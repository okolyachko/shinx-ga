<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Passing the app state to the voice script" href="sending-data-flutter.html" /><link rel="prev" title="Building a voice assistant for a Flutter app" href="integrating-flutter.html" />

    <link rel="shortcut icon" href="../../_static/favicon.ico"/><meta name="generator" content="sphinx-3.5.4, furo 2021.04.11.beta34"/>
        <title>Navigating between screens in a Flutter app - Docs documentation</title>
      <link rel="stylesheet" href="../../_static/styles/furo.css?digest=59ab60ac09ea94ccfe6deddff6d715cce948a6fc">
    <link rel="stylesheet" href="../../_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../../_static/pygments_dark.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    


<style>
  :root {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/custom.css" />
    <link rel="stylesheet" href="../../_static/styles/furo-extensions.css?digest=d391b54134226e4196576da3bdb6dddb7e05ba2b">
    <link rel="shortcut icon" type="image/x-icon" href="../../_static/favicon.png">
	
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-159851478-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-198019952-1');
	</script>
</head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>


    <link rel="shortcut icon" type="image/x-icon" href="../../_static/favicon.png">
	
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-159851478-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-198019952-1');
	</script>



<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>


<div class="header-new">
<div class="header-content">
		<div class="logo-part">
			<div class="logo"> 
			
             <div class="sidebar-logo-container">
				<a href="https://alan.app"><img class="sidebar-logo" src="../../_static/alan-logo.svg" alt="Logo"/></a>
			</div>
			
			</div>
			
			<div class="docs">
			
			<a href="https://alan.app/docs"> | Docs
			
			</div>
			</a>
		</div>
        
		
		<div class="right-block">
		<div class="search-box">   
			<form class="sidebar-search-container" method="get" action="../../search.html">
				<input class="sidebar-search" placeholder=Search name="q">
				<input type="hidden" name="check_keywords" value="yes">
				<input type="hidden" name="area" value="default">
			</form>
			
			
		</div>
		<div class="social">
			<a href="https://twitter.com/alanvoiceai" target="_blank" class="fa fa-twitter"></a>
			<a href="https://www.youtube.com/channel/UCrsg0b32nL6L2j5jG7uxOuw" target="_blank" class="fa fa-youtube-play"></a>
			<a href="https://alanaigroup.slack.com/join/shared_invite/enQtNzMzOTE5MTIwMjg4LWI4ZmM4MTNkMTdmY2M0ZWEwODlmZDQ5Y2ZkMjUzNmMyZDJiMzA0Y2M1NDdhYzZjYWFlZTA5NjM4OTU0MWFmNWU#/shared-invite/email" target="_blank" class="fa fa-slack"></a>
			<a href="https://github.com/alan-ai" target="_blank" class="fa fa-github"></a>
        </div>
		</div>
		</div>
    </div>
<div class="page">
  
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../contents.html"><div class="brand">Docs  documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../../contents.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/alan-logo.svg" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../index.html">Getting started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../usage/hiw/about.html">How Alan works</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../usage/hiw/basics.html">Alan basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/hiw/infrastructure.html">Alan infrastructure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/hiw/deployment.html">Deployment options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/hiw/voice-processing.html">Voice processing</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../usage/guides/studio.html">Alan Studio</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../usage/guides/projects.html">Alan projects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/guides/scripts.html">Voice scripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/guides/versioning.html">Versions and environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/guides/script-testing.html">Script testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/guides/playground.html">Alan Playground</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/guides/analytics.html">Voice analytics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/guides/billing.html">Billing and subscriptions</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../usage/button/overview.html">Alan button</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../usage/button/customization.html">Customizing the voice assistant</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/button/cohorts.html">Setting up cohorts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/button/activation.html">Starting and stopping dialog sessions</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../usage/examples/overview.html">Alan examples</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../usage/examples/predefined-examples.html">Voice script examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/examples/code.html">Integration code examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/examples/github.html">Example apps on GitHub</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../usage/video/overview.html">Videos</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../usage/video/studio.html">Alan Studio videos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/video/alan-platform.html">Alan Platform videos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/video/integration.html">Integration videos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/video/apps.html">Voice-enabled apps</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../usage/additional/overview.html">Additional resources</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label for="toctree-checkbox-7"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../usage/additional/supported-platforms.html">Supported platforms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/additional/faq.html">FAQ</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../server-api/script-concepts.html">Script concepts</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label for="toctree-checkbox-8"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/commands-and-responses.html">Commands and responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/patterns.html">Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/slots.html">Slots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/contexts.html">Contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/dynamic-entities.html">Dynamic entities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/built-in-javascript-libraries.html">Built-in JavaScript libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/objects.html">Predefined script objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/lifecycle.html">Voice assistant lifecycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/popups.html">Alan button popups</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../server-api/sending-data/communication.html">Communication with the app</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label for="toctree-checkbox-9"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server-api/sending-data/visual-state.html">Visual state</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server-api/sending-data/project-api.html">Project API</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../server-api/user-data/overview.html">User data</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label for="toctree-checkbox-10"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server-api/user-data/events.html">User events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server-api/user-data/client-object.html">Client object</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/api/api-reference.html">API reference</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../client-api/client-sdks.html">Alan Client SDKs</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label for="toctree-checkbox-11"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../client-api/integration.html">Integrating with Alan</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label for="toctree-checkbox-12"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../client-api/web/web-integration.html">Web</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label for="toctree-checkbox-13"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/web-api.html">Alan Web SDK</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/react.html">React</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/angular.html">Angular</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/vue.html">Vue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/ember.html">Ember</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/vanilla.html">JavaScript</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/electron.html">Electron</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/server-side-rendering.html">Server-side rendering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/web-component.html">Web component</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../client-api/ios/ios-api.html">iOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../client-api/android/android-api.html">Android</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../client-api/cross-platform/overview.html">Cross-platform</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label for="toctree-checkbox-14"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/cross-platform/ionic.html">Ionic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/cross-platform/cordova.html">Apache Cordova</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/cross-platform/flutter.html">Flutter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/cross-platform/react-native.html">React Native</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/cross-platform/powerapps.html">Microsoft Power Apps</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../client-api/methods/common-api.html">Client API methods</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../client-api/methods/handlers.html">Alan handlers</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label for="toctree-checkbox-15"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../client-api/methods/command-handler.html">onCommand handler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../client-api/methods/state-handler.html">onButtonState handler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../client-api/methods/event-handler.html">onEvent handler</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../how-tos.html">How-tos</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../list-all.html">Tutorials</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label for="toctree-checkbox-16"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../list/web-list.html">Web</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label for="toctree-checkbox-17"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../list/adding-voice-to-a-web-application.html">Building a voice assistant for web</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../list/food-delivery-tutorial.html">Creating a voice-enabled food delivery app: complete tutorial</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label for="toctree-checkbox-18"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-create-app.html">Step 1: Create a web app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-create-voice-assistant.html">Step 2: Create a voice assistant</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-integrate.html">Step 3: Integrate Alan with the app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-add-command.html">Step 4: Add a voice command</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-alternatives.html">Step 5: Specify options and alternatives</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-slots.html">Step 6: Pick out important data with slots</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-several-items.html">Step 7: Add several items</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-display-items.html">Step 8: Send a command to display items in the cart</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-slot-labels.html">Step 9: Use slot labels to display the order</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-remove-items.html">Step 10: Remove items with voice</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-highlight-items.html">Step 11: Highlight named items</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-checkout-context.html">Step 12: Add the checkout context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-time.html">Step 13: Get the delivery time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-comment.html">Step 14: Capture a comment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-populate-fields.html">Step 15: Populate fields with the delivery details</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-api-call.html">Step 16: Make an API call to get ingredients</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-visual-context.html">Step 17: Get the app visual context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-balance.html">Step 18: Get the balance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-start-dialog.html">Step 19: Let Alan start the dialog</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-popup.html">Step 20: Show a popup next to the Alan button</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../list/using-dynamic-entities.html">Using dynamic entities</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../web/frameworks-list.html">Web frameworks</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label for="toctree-checkbox-19"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../web/integrating-react-app.html">Building a voice assistant for a React app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../web/integrating-angular-app.html">Building a voice assistant for an Angular app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../web/integrating-vue-app.html">Building a voice assistant for a Vue app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../web/integrating-ember-app.html">Building a voice assistant for an Ember app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../web/integrating-electron-app.html">Building a voice assistant for an Electron app</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../ios/ios-list.html">iOS</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label for="toctree-checkbox-20"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../ios/integrating-swift.html">Building a voice assistant for an iOS app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ios/navigating-swift.html">Navigating between views in an iOS app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ios/sending-data-swift.html">Passing the app state to the voice script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ios/highlighting-swift.html">Highlighing items with voice</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ios/triggering-info-swift.html">Triggering voice script actions without commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ios/greeting-swift.html">Playing a greeting in an iOS Swift app</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../android/android-list.html">Android</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label for="toctree-checkbox-21"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../android/integrating-java-kotlin.html">Building a voice assistant for an Android Java or Kotlin app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../android/navigating-kotlin.html">Navigating between screens in an Android app (Kotlin)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../android/sending-data.html">Passing the app state to the voice script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../android/highlighting-kotlin.html">Highlighting items with voice (Kotlin)</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="flutter-list.html">Flutter</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label for="toctree-checkbox-22"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="integrating-flutter.html">Building a voice assistant for a Flutter app</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Navigating between views in a Flutter app</a></li>
<li class="toctree-l3"><a class="reference internal" href="sending-data-flutter.html">Passing the app state to the voice script</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../ionic/ionic-list.html">Ionic</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/><label for="toctree-checkbox-23"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../ionic/integrating-angular.html">Building a voice assistant for an Ionic Angular app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ionic/navigating-angular.html">Navigating between tabs in an Ionic Angular app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ionic/sending-data-angular.html">Passing the app state to the voice script (Ionic Angular)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ionic/integrating-react.html">Building a voice assistant for an Ionic React app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ionic/navigating-react.html">Navigating between tabs in an Ionic React app</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div id="orange-background"></div><div class="section" id="navigating-between-screens-in-a-flutter-app">
<h1>Navigating between screens in a Flutter app<a class="headerlink" href="#navigating-between-screens-in-a-flutter-app" title="Permalink to this headline">¶</a></h1>
<p>If your Flutter app has several screens, you can add voice commands to navigate through the app. For example, if the app shows a list of products, you may let the user open product details and then go back to the products list with voice. In this tutorial, we will add a new screen to our simple Flutter app and create voice commands to navigate between the app screens.</p>
<div class="section" id="what-you-will-learn">
<h2>What you will learn<a class="headerlink" href="#what-you-will-learn" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>How to send commands to a Flutter app</p></li>
<li><p>How to handle commands on the Flutter app side</p></li>
<li><p>How to navigate between screens of a Flutter app with voices</p></li>
</ul>
</div>
<div class="section" id="what-you-will-need">
<h2>What you will need<a class="headerlink" href="#what-you-will-need" title="Permalink to this headline">¶</a></h2>
<p>To go through this tutorial, make sure the following prerequisites are met:</p>
<ul class="simple">
<li><p>You have completed the following tutorial: <a class="reference external" href="integrating-flutter.html">Building a voice assistant for a Flutter
app</a>.</p></li>
<li><p>You have set up the Flutter environment and it is functioning properly. For details, see Flutter documentation.</p></li>
<li><p>The device on which you are planning to test drive the Flutter app is connected to the Internet. The Internet connection is required to let the Flutter app communicate with the voice script run in the Alan Cloud.</p></li>
</ul>
</div>
<div class="section" id="step-1-add-a-new-screen-to-the-flutter-app">
<h2>Step 1: Add a new screen to the Flutter app<a class="headerlink" href="#step-1-add-a-new-screen-to-the-flutter-app" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This step is required if you are using the Flutter app created in the <a class="reference external" href="integrating-flutter.html">previous tutorial</a>. You can also use your own app with several screens. In this case, skip this step and go to <a class="reference external" href="#step-2-add-voice-commands-for-navigation">step 2</a>.</p>
</div>
<p>In the <a class="reference external" href="integrating-flutter.html">Adding voice to a Flutter app</a> tutorial, we have created a single-screen Flutter app with the Alan button. Now let’s add a new screen to this app.</p>
<p>Open the app, go to the <code class="docutils literal notranslate"><span class="pre">main.dart</span></code> file and add the code for the second screen:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="p">...</span>
<span class="kd">class</span> <span class="nc">SecondRoute</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="p">{</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">Scaffold</span><span class="p">(</span>
      <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="p">(</span>
        <span class="nl">title:</span> <span class="n">Text</span><span class="p">(</span><span class="s2">"Flutter Demo Second Page"</span><span class="p">),</span>
      <span class="p">),</span>
      <span class="nl">body:</span> <span class="n">Center</span><span class="p">(</span>
        <span class="nl">child:</span> <span class="n">RaisedButton</span><span class="p">(</span>
            <span class="nl">onPressed:</span> <span class="p">()</span> <span class="p">{</span>
              <span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
            <span class="p">},</span>
          <span class="nl">child:</span> <span class="n">Text</span><span class="p">(</span><span class="s1">'Go back'</span><span class="p">),</span>
        <span class="p">),</span>
      <span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">...</span>
</pre></div>
</div>
<p>The second screen contains only one button that brings us back to the home screen. Let’s also add a button to the home screen to navigate to the second screen. To the body of the home screen, add the following button code:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="p">...</span>
<span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">...</span>
      <span class="nl">body:</span> <span class="n">Center</span><span class="p">(</span>
        <span class="p">...</span>
        <span class="nl">child:</span> <span class="n">Column</span><span class="p">(</span>
          <span class="p">...</span>

          <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;</span><span class="p">[</span>
            <span class="p">...</span>
            <span class="n">Text</span><span class="p">(</span>
              <span class="s1">'</span><span class="si">$</span><span class="n">_counter</span><span class="s1">'</span><span class="p">,</span>
              <span class="nl">style:</span> <span class="n">Theme</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">textTheme</span><span class="p">.</span><span class="n">display1</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="c1">//Button code</span>
            <span class="n">RaisedButton</span><span class="p">(</span>
              <span class="nl">child:</span> <span class="n">Text</span><span class="p">(</span><span class="s1">'Navigate forward'</span><span class="p">),</span>
              <span class="nl">onPressed:</span> <span class="p">()</span> <span class="p">{</span>
                <span class="n">Navigator</span><span class="p">.</span><span class="n">push</span><span class="p">(</span>
                  <span class="n">context</span><span class="p">,</span>
                  <span class="n">MaterialPageRoute</span><span class="p">(</span><span class="nl">builder:</span> <span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">SecondRoute</span><span class="p">()),</span>
                <span class="p">);</span>
              <span class="p">},</span>
            <span class="p">),</span><span class="c1">//Button code</span>
    <span class="p">...</span>
<span class="p">}</span>
<span class="p">...</span>
</pre></div>
</div>
<p>You can test it: run the app. Now our app has two screens, and we can navigate between them. Tap the <code class="docutils literal notranslate"><span class="pre">Navigate</span> <span class="pre">forward</span></code> and <code class="docutils literal notranslate"><span class="pre">Go</span> <span class="pre">back</span></code> buttons to go to the second screen and back.</p>
<img alt="../../_images/screens.jpg" src="../../_images/screens.jpg"/>
</div>
<div class="section" id="step-2-add-voice-commands-for-navigation">
<h2>Step 2: Add voice commands for navigation<a class="headerlink" href="#step-2-add-voice-commands-for-navigation" title="Permalink to this headline">¶</a></h2>
<p>We need to add new <a class="reference external" href="../../server-api/commands-and-responses.html">commands</a> to the Alan script to navigate between screens with voice. In Alan Studio, open the project and in the code editor, add the following intents:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">intent</span><span class="p">(</span><span class="sb">`Navigate forward`</span><span class="p">,</span> <span class="nx">p</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">p</span><span class="p">.</span><span class="nx">play</span><span class="p">({</span><span class="nx">command</span><span class="o">:</span> <span class="s1">'navigation'</span><span class="p">,</span> <span class="nx">route</span><span class="o">:</span> <span class="s1">'forward'</span><span class="p">});</span>
        <span class="nx">p</span><span class="p">.</span><span class="nx">play</span><span class="p">(</span><span class="sb">`Navigating forward`</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">intent</span><span class="p">(</span><span class="sb">`Go back`</span><span class="p">,</span> <span class="nx">p</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">p</span><span class="p">.</span><span class="nx">play</span><span class="p">({</span><span class="nx">command</span><span class="o">:</span> <span class="s1">'navigation'</span><span class="p">,</span> <span class="nx">route</span><span class="o">:</span> <span class="s1">'back'</span><span class="p">});</span>
        <span class="nx">p</span><span class="p">.</span><span class="nx">play</span><span class="p">(</span><span class="sb">`Going back`</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Now, when we say one of these commands to the app, two things happen:</p>
<ul class="simple">
<li><p>Alan sends the command provided in the intent to the Flutter app. To send the command, we need to specify a JSON object in the <code class="docutils literal notranslate"><span class="pre">p.play</span></code> function. In this tutorial, the object contains the command name and the route we want to pass to the app: <code class="docutils literal notranslate"><span class="pre">forward</span></code> or <code class="docutils literal notranslate"><span class="pre">back</span></code>.</p></li>
<li><p>Alan plays back the action confirmation to us.</p></li>
</ul>
</div>
<div class="section" id="step-3-handle-commands-on-the-app-side">
<h2>Step 3: Handle commands on the app side<a class="headerlink" href="#step-3-handle-commands-on-the-app-side" title="Permalink to this headline">¶</a></h2>
<p>When we say <code class="docutils literal notranslate"><span class="pre">Navigate</span> <span class="pre">forward</span></code> or <code class="docutils literal notranslate"><span class="pre">Go</span> <span class="pre">back</span></code>, Alan sends a command to the Flutter app. We need to handle this command on the app side and make sure an appropriate action is performed. To do this, we will add a handler in the app.</p>
<ol class="arabic">
<li><p>In the <code class="docutils literal notranslate"><span class="pre">main.dart</span></code> file, locate the <code class="docutils literal notranslate"><span class="pre">_MyHomePageState()</span></code> method and add a listener for the <code class="docutils literal notranslate"><span class="pre">command</span></code> event. All commands sent from the voice script will be passed to this method:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="p">...</span>
<span class="kd">class</span> <span class="nc">_MyHomePageState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">MyHomePage</span><span class="o">&gt;</span> <span class="p">{</span>
<span class="p">...</span>
    <span class="n">_MyHomePageState</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">//Init Alan with sample project id</span>
        <span class="n">AlanVoice</span><span class="p">.</span><span class="n">addButton</span><span class="p">(</span>
            <span class="s2">"ff4f9c03e405a5a07d43485dbc3cb44a2e956eca572e1d8b807a3e2338fdd0dc/stage"</span><span class="p">,</span>
            <span class="nl">buttonAlign:</span> <span class="n">AlanVoice</span><span class="p">.</span><span class="n">BUTTON_ALIGN_LEFT</span><span class="p">);</span>

        <span class="c1">//Add listener for command event</span>
        <span class="n">AlanVoice</span><span class="p">.</span><span class="n">callbacks</span><span class="p">.</span><span class="n">add</span><span class="p">((</span><span class="n">command</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">_handleCommand</span><span class="p">(</span><span class="n">command</span><span class="p">.</span><span class="n">data</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">...</span>
<span class="p">}</span>
<span class="p">...</span>
</pre></div>
</div>
</li>
<li><p>To the <code class="docutils literal notranslate"><span class="pre">_MyHomePageState</span></code> class, add the <code class="docutils literal notranslate"><span class="pre">_handleCommand()</span></code> method. It will handle commands passed from the voice script:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="p">...</span>
    <span class="kt">void</span> <span class="n">_handleCommand</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">dynamic</span><span class="o">&gt;</span> <span class="n">command</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="p">(</span><span class="n">command</span><span class="p">[</span><span class="s2">"command"</span><span class="p">])</span> <span class="p">{</span>
            <span class="k">case</span> <span class="s2">"navigation"</span><span class="o">:</span>
                <span class="n">_navigateTo</span><span class="p">(</span><span class="n">command</span><span class="p">[</span><span class="s2">"route"</span><span class="p">]);</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="k">default</span><span class="o">:</span>
                <span class="n">debugPrint</span><span class="p">(</span><span class="s2">"Unknown command: </span><span class="si">${</span><span class="n">command</span><span class="si">}</span><span class="s2">"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">...</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>At present, there is only one command. You can add more commands when you extend your voice script and send more commands to the app.</p>
</div>
</li>
<li><p>Finally, to the <code class="docutils literal notranslate"><span class="pre">_MyHomePageState</span></code> class, add the <code class="docutils literal notranslate"><span class="pre">_navigateTo</span></code> method. It does the same as tapping the <code class="docutils literal notranslate"><span class="pre">Navigate</span> <span class="pre">forward</span></code> and <code class="docutils literal notranslate"><span class="pre">Go</span> <span class="pre">back</span></code> buttons.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="p">...</span>
    <span class="kt">void</span> <span class="n">_navigateTo</span><span class="p">(</span><span class="kt">String</span> <span class="n">screen</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="p">(</span><span class="n">screen</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">case</span> <span class="s2">"forward"</span><span class="o">:</span>
                <span class="n">Navigator</span><span class="p">.</span><span class="n">push</span><span class="p">(</span>
                    <span class="n">context</span><span class="p">,</span>
                    <span class="n">MaterialPageRoute</span><span class="p">(</span><span class="nl">builder:</span> <span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">SecondRoute</span><span class="p">()),</span>
                <span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="s2">"back"</span><span class="o">:</span>
                <span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="k">default</span><span class="o">:</span>
                <span class="n">print</span><span class="p">(</span><span class="s2">"Unknown screen: </span><span class="si">$</span><span class="n">screen</span><span class="s2">"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
 <span class="p">...</span>
</pre></div>
</div>
</li>
</ol>
<p>Here is how it works: when the Flutter app receives some command from the voice script, <code class="docutils literal notranslate"><span class="pre">_handleCommand</span></code> is invoked. If the sent command is <code class="docutils literal notranslate"><span class="pre">navigation</span></code>, the app uses the <code class="docutils literal notranslate"><span class="pre">_navigateTo()</span></code> function to go to the second screen or back to the home screen, depending on the <code class="docutils literal notranslate"><span class="pre">route</span></code> provided in the command: <code class="docutils literal notranslate"><span class="pre">forward</span></code> or <code class="docutils literal notranslate"><span class="pre">back</span></code>.</p>
<p>You can test it: run the app on the device, tap the Alan button and say: <code class="docutils literal notranslate"><span class="pre">Navigate</span> <span class="pre">forward</span></code>. The app should switch you to the second screen. Then say <code class="docutils literal notranslate"><span class="pre">Go</span> <span class="pre">back</span></code>. The home screen will be displayed.</p>
</div>
<div class="section" id="what-s-next">
<h2>What’s next?<a class="headerlink" href="#what-s-next" title="Permalink to this headline">¶</a></h2>
<p>Have a look at the next tutorial: <a class="reference external" href="sending-data-flutter.html">Passing the app state to the voice
script</a>.</p>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="sending-data-flutter.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Passing the app state to the voice script</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="integrating-flutter.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Building a voice assistant for a Flutter app</div>
                
              </div>
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Navigating between screens in a Flutter app</a><ul>
<li><a class="reference internal" href="#what-you-will-learn">What you will learn</a></li>
<li><a class="reference internal" href="#what-you-will-need">What you will need</a></li>
<li><a class="reference internal" href="#step-1-add-a-new-screen-to-the-flutter-app">Step 1: Add a new screen to the Flutter app</a></li>
<li><a class="reference internal" href="#step-2-add-voice-commands-for-navigation">Step 2: Add voice commands for navigation</a></li>
<li><a class="reference internal" href="#step-3-handle-commands-on-the-app-side">Step 3: Handle commands on the app side</a></li>
<li><a class="reference internal" href="#what-s-next">What’s next?</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
</div>

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/custom.js"></script>
    <script src="../../_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>