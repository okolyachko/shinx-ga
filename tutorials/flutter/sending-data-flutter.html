<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Ionic tutorials" href="../ionic/ionic-list.html" /><link rel="prev" title="Navigating between screens in a Flutter app" href="navigating-flutter.html" />

    <link rel="shortcut icon" href="../../_static/favicon.ico"/><meta name="generator" content="sphinx-3.5.4, furo 2021.04.11.beta34"/>
        <title>Passing the app state to the voice script - Docs documentation</title>
      <link rel="stylesheet" href="../../_static/styles/furo.css?digest=59ab60ac09ea94ccfe6deddff6d715cce948a6fc">
    <link rel="stylesheet" href="../../_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../../_static/pygments_dark.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    


<style>
  :root {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/custom.css" />
    <link rel="stylesheet" href="../../_static/styles/furo-extensions.css?digest=d391b54134226e4196576da3bdb6dddb7e05ba2b">
    <link rel="shortcut icon" type="image/x-icon" href="../../_static/favicon.png">
	
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-159851478-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-198019952-1');
	</script>
</head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>


    <link rel="shortcut icon" type="image/x-icon" href="../../_static/favicon.png">
	
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-159851478-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-198019952-1');
	</script>



<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>


<div class="header-new">
<div class="header-content">
		<div class="logo-part">
			<div class="logo"> 
			
             <div class="sidebar-logo-container">
				<img class="sidebar-logo" src="../../_static/alan-logo.svg" alt="Logo"/>
			</div>
			
			</div>
			
			<div class="docs">
			
			<a href="../../contents.html"> | Docs
			
			</div>
			</a>
		</div>
        
		
		<div class="right-block">
		<div class="search-box">   
			<form class="sidebar-search-container" method="get" action="../../search.html">
				<input class="sidebar-search" placeholder=Search name="q">
				<input type="hidden" name="check_keywords" value="yes">
				<input type="hidden" name="area" value="default">
			</form>
			
			
		</div>
		<div class="social">
			<a href="https://twitter.com/alanvoiceai" target="_blank" class="fa fa-twitter"></a>
			<a href="https://www.youtube.com/channel/UCrsg0b32nL6L2j5jG7uxOuw" target="_blank" class="fa fa-youtube-play"></a>
			<a href="https://alanaigroup.slack.com/join/shared_invite/enQtNzMzOTE5MTIwMjg4LWI4ZmM4MTNkMTdmY2M0ZWEwODlmZDQ5Y2ZkMjUzNmMyZDJiMzA0Y2M1NDdhYzZjYWFlZTA5NjM4OTU0MWFmNWU#/shared-invite/email" target="_blank" class="fa fa-slack"></a>
			<a href="https://twitter.com/alanvoiceai" target="_blank" class="fa fa-github"></a>
        </div>
		</div>
		</div>
    </div>
<div class="page">
  
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../contents.html"><div class="brand">Docs  documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../../contents.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/alan-logo.svg" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../index.html">Getting started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../usage/hiw/about.html">How Alan works</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../usage/hiw/basics.html">Alan basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/hiw/infrastructure.html">Alan infrastructure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/hiw/deployment.html">Deployment options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/hiw/voice-processing.html">Voice processing</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../usage/guides/studio.html">Alan Studio</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../usage/guides/projects.html">Alan projects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/guides/scripts.html">Voice scripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/guides/versioning.html">Versions and environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/guides/script-testing.html">Script testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/guides/playground.html">Alan Playground</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/guides/analytics.html">Voice analytics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/guides/billing.html">Billing and subscriptions</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../usage/button/overview.html">Alan button</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../usage/button/customization.html">Customizing the voice assistant</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/button/cohorts.html">Setting up cohorts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/button/activation.html">Starting and stopping dialog sessions</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../usage/examples/overview.html">Alan examples</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../usage/examples/predefined-examples.html">Voice script examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/examples/code.html">Integration code examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/examples/github.html">Example apps on GitHub</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../usage/video/overview.html">Videos</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../usage/video/studio.html">Alan Studio videos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/video/alan-platform.html">Alan Platform videos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/video/integration.html">Integration videos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/video/apps.html">Voice-enabled apps</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../usage/additional/overview.html">Additional resources</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label for="toctree-checkbox-7"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../usage/additional/supported-platforms.html">Supported platforms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage/additional/faq.html">FAQ</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../server-api/script-concepts.html">Script concepts</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label for="toctree-checkbox-8"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/commands-and-responses.html">Commands and responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/patterns.html">Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/slots.html">Slots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/contexts.html">Contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/dynamic-entities.html">Dynamic entities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/built-in-javascript-libraries.html">Built-in JavaScript libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/objects.html">Predefined script objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/lifecycle.html">Voice assistant lifecycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/popups.html">Alan button popups</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../server-api/sending-data/communication.html">Communication with the app</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label for="toctree-checkbox-9"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server-api/sending-data/visual-state.html">Visual state</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server-api/sending-data/project-api.html">Project API</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../server-api/user-data/overview.html">User data</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label for="toctree-checkbox-10"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server-api/user-data/events.html">User events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server-api/user-data/client-object.html">Client object</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../server-api/api/api-reference.html">API reference</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../client-api/client-sdks.html">Alan Client SDKs</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label for="toctree-checkbox-11"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../client-api/integration.html">Integrating with Alan</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label for="toctree-checkbox-12"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../client-api/web/web-integration.html">Web</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label for="toctree-checkbox-13"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/web-api.html">Alan Web SDK</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/react.html">React</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/angular.html">Angular</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/vue.html">Vue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/ember.html">Ember</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/vanilla.html">JavaScript</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/electron.html">Electron</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/server-side-rendering.html">Server-side rendering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/web/web-component.html">Web component</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../client-api/ios/ios-api.html">iOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../client-api/android/android-api.html">Android</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../client-api/cross-platform/overview.html">Cross-platform</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label for="toctree-checkbox-14"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/cross-platform/ionic.html">Ionic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/cross-platform/cordova.html">Apache Cordova</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/cross-platform/flutter.html">Flutter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/cross-platform/react-native.html">React Native</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-api/cross-platform/powerapps.html">Microsoft Power Apps</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../client-api/methods/common-api.html">Client API methods</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../client-api/methods/handlers.html">Alan handlers</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label for="toctree-checkbox-15"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../client-api/methods/command-handler.html">onCommand handler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../client-api/methods/state-handler.html">onButtonState handler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../client-api/methods/event-handler.html">onEvent handler</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../how-tos.html">How-tos</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../list-all.html">Tutorials</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label for="toctree-checkbox-16"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../list/web-list.html">Web</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label for="toctree-checkbox-17"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../list/adding-voice-to-a-web-application.html">Building a voice assistant for web</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../list/food-delivery-tutorial.html">Creating a voice-enabled food delivery app: complete tutorial</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label for="toctree-checkbox-18"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-create-app.html">Step 1: Create a web app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-create-voice-assistant.html">Step 2: Create a voice assistant</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-integrate.html">Step 3: Integrate Alan with the app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-add-command.html">Step 4: Add a voice command</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-alternatives.html">Step 5: Specify options and alternatives</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-slots.html">Step 6: Pick out important data with slots</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-several-items.html">Step 7: Add several items</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-display-items.html">Step 8: Send a command to display items in the cart</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-slot-labels.html">Step 9: Use slot labels to display the order</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-remove-items.html">Step 10: Remove items with voice</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-highlight-items.html">Step 11: Highlight named items</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-checkout-context.html">Step 12: Add the checkout context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-time.html">Step 13: Get the delivery time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-comment.html">Step 14: Capture a comment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-populate-fields.html">Step 15: Populate fields with the delivery details</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-api-call.html">Step 16: Make an API call to get ingredients</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-visual-context.html">Step 17: Get the app visual context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-balance.html">Step 18: Get the balance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-start-dialog.html">Step 19: Let Alan start the dialog</a></li>
<li class="toctree-l4"><a class="reference internal" href="../list/food-delivery-popup.html">Step 20: Show a popup next to the Alan button</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../list/using-dynamic-entities.html">Using dynamic entities</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../web/frameworks-list.html">Web frameworks</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label for="toctree-checkbox-19"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../web/integrating-react-app.html">Building a voice assistant for a React app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../web/integrating-angular-app.html">Building a voice assistant for an Angular app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../web/integrating-vue-app.html">Building a voice assistant for a Vue app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../web/integrating-ember-app.html">Building a voice assistant for an Ember app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../web/integrating-electron-app.html">Building a voice assistant for an Electron app</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../ios/ios-list.html">iOS</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label for="toctree-checkbox-20"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../ios/integrating-swift.html">Building a voice assistant for an iOS app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ios/navigating-swift.html">Navigating between views in an iOS app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ios/sending-data-swift.html">Passing the app state to the voice script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ios/highlighting-swift.html">Highlighing items with voice</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ios/triggering-info-swift.html">Triggering voice script actions without commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ios/greeting-swift.html">Playing a greeting in an iOS Swift app</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../android/android-list.html">Android</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label for="toctree-checkbox-21"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../android/integrating-java-kotlin.html">Building a voice assistant for an Android Java or Kotlin app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../android/navigating-kotlin.html">Navigating between screens in an Android app (Kotlin)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../android/sending-data.html">Passing the app state to the voice script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../android/highlighting-kotlin.html">Highlighting items with voice (Kotlin)</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="flutter-list.html">Flutter</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label for="toctree-checkbox-22"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="integrating-flutter.html">Building a voice assistant for a Flutter app</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigating-flutter.html">Navigating between views in a Flutter app</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Passing the app state to the voice script</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../ionic/ionic-list.html">Ionic</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/><label for="toctree-checkbox-23"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../ionic/integrating-angular.html">Building a voice assistant for an Ionic Angular app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ionic/navigating-angular.html">Navigating between tabs in an Ionic Angular app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ionic/sending-data-angular.html">Passing the app state to the voice script (Ionic Angular)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ionic/integrating-react.html">Building a voice assistant for an Ionic React app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ionic/navigating-react.html">Navigating between tabs in an Ionic React app</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div id="orange-background"></div><div class="section" id="passing-the-app-state-to-the-voice-script">
<h1>Passing the app state to the voice script<a class="headerlink" href="#passing-the-app-state-to-the-voice-script" title="Permalink to this headline">¶</a></h1>
<p>When the user interacts with a Flutter app, it may be necessary to send some data from the app to the voice script. For example, you may need to provide the voice script with information about the current app state.</p>
<p>In Alan, you can send data from the app to the voice script in the following ways:</p>
<ul class="simple">
<li><p>With <a class="reference external" href="../../server-api/sending-data/visual-state.html">visual state</a></p></li>
<li><p>With <a class="reference external" href="../../server-api/sending-data/project-api.html">project API</a></p></li>
</ul>
<p>In this tutorial, we will work with a Flutter app having two screens. We will send information about the currently open screen to the voice script with the help of the visual state. On the script side, we will use the passed state to do the following:</p>
<ul class="simple">
<li><p>Create a voice command that will let Alan reply differently depending on the screen open in the app</p></li>
<li><p>Create a screen-specific command that can be matched only if the necessary screen is open</p></li>
</ul>
<div class="section" id="what-you-will-learn">
<h2>What you will learn<a class="headerlink" href="#what-you-will-learn" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>How to pass the app state from a Flutter app to the voice script with the visual state</p></li>
<li><p>How to access the data passed with the visual state in the voice script</p></li>
<li><p>How to filter intents by the app state</p></li>
</ul>
</div>
<div class="section" id="what-you-will-need">
<h2>What you will need<a class="headerlink" href="#what-you-will-need" title="Permalink to this headline">¶</a></h2>
<p>To go through this tutorial, make sure the following prerequisites are met:</p>
<ul class="simple">
<li><p>In this tutorial, we will continue using the Flutter app created in the previous tutorials. You can also use your own app with several screens. Make sure you have completed all steps from the previous tutorials:</p>
<ul>
<li><p><a class="reference external" href="integrating-flutter.html">Building a voice assistant for a Flutter app</a></p></li>
<li><p><a class="reference external" href="navigating-flutter.html">Navigating between screens in a Flutter app</a></p></li>
</ul>
</li>
<li><p>You have set up the Flutter environment and it is functioning properly. For details, see Flutter documentation.</p></li>
<li><p>The device on which you are planning to test drive the Flutter app is connected to the Internet. The Internet connection is required to let the Flutter app communicate with the voice script run in the Alan Cloud.</p></li>
</ul>
</div>
<div class="section" id="step-1-send-the-app-state-to-the-voice-script">
<h2>Step 1: Send the app state to the voice script<a class="headerlink" href="#step-1-send-the-app-state-to-the-voice-script" title="Permalink to this headline">¶</a></h2>
<p>To send data from the app to the voice script, you can use Alan’s visual state object. This method can be particularly helpful if the dialog flow in your app depends on the app state. In this case, you need to know the app state on the script side to adjust the dialog logic. For example, you may want to filter out some voice commands, give responses applicable to a specific app state and so on.</p>
<p>The visual state allows you to send an arbitrary JSON object from the app to the script. You can then access the passed data through the <code class="docutils literal notranslate"><span class="pre">p.visual</span></code> runtime variable.</p>
<p>To send the visual state to the voice script, let’s add the <code class="docutils literal notranslate"><span class="pre">setVisuals()</span></code> method to the <code class="docutils literal notranslate"><span class="pre">_MyHomePageState</span></code> class in the <code class="docutils literal notranslate"><span class="pre">dart.main</span></code> file. Here we call the <a class="reference external" href="../../client-api/methods/common-api.html#setvisualstate">setVisualState()</a> method of the Alan button and pass the object containing information about the current screen.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="p">...</span>
<span class="kt">void</span> <span class="n">setVisuals</span><span class="p">(</span><span class="kt">String</span> <span class="n">screen</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="n">visual</span> <span class="o">=</span>
        <span class="s2">"{</span><span class="se">\"</span><span class="s2">screen</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="si">$</span><span class="n">screen</span><span class="se">\"</span><span class="s2">}"</span><span class="p">;</span>
    <span class="n">AlanVoice</span><span class="p">.</span><span class="n">setVisualState</span><span class="p">(</span><span class="n">visual</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">...</span>
</pre></div>
</div>
<p>Now let’s to modify the <code class="docutils literal notranslate"><span class="pre">_navigateTo()</span></code> method. When we navigate to the second screen, we will call <code class="docutils literal notranslate"><span class="pre">setVisuals</span></code> and pass the <code class="docutils literal notranslate"><span class="pre">second</span></code> state to it. When we go back to the first screen, we will call <code class="docutils literal notranslate"><span class="pre">setVisuals</span></code> and pass the <code class="docutils literal notranslate"><span class="pre">first</span></code> state to it.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="p">...</span>
<span class="kt">void</span> <span class="n">_navigateTo</span><span class="p">(</span><span class="kt">String</span> <span class="n">screen</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="n">screen</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="s2">"forward"</span><span class="o">:</span>
            <span class="n">Navigator</span><span class="p">.</span><span class="n">push</span><span class="p">(</span>
                <span class="n">context</span><span class="p">,</span>
                <span class="n">MaterialPageRoute</span><span class="p">(</span><span class="nl">builder:</span> <span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">SecondRoute</span><span class="p">()),</span>
            <span class="p">);</span>
            <span class="c1">//Set visual state to `second`</span>
            <span class="n">setVisuals</span><span class="p">(</span><span class="s2">"second"</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="s2">"back"</span><span class="o">:</span>
            <span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
            <span class="c1">//Set visual state to `first`</span>
            <span class="n">setVisuals</span><span class="p">(</span><span class="s2">"first"</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="n">print</span><span class="p">(</span><span class="s2">"Unknown screen: </span><span class="si">$</span><span class="n">screen</span><span class="s2">"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="p">...</span>
</pre></div>
</div>
</div>
<div class="section" id="step-2-add-a-voice-command-with-different-answers-for-screens">
<h2>Step 2: Add a voice command with different answers for screens<a class="headerlink" href="#step-2-add-a-voice-command-with-different-answers-for-screens" title="Permalink to this headline">¶</a></h2>
<p>Imagine we want to provide the user with a possibility to ask <code class="docutils literal notranslate"><span class="pre">What</span> <span class="pre">screen</span> <span class="pre">is</span> <span class="pre">this?</span></code> in the app, and Alan must reply differently depending on the screen open. Let’s go back to Alan Studio and add a new intent to it:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">intent</span><span class="p">(</span><span class="sb">`What screen is this?`</span><span class="p">,</span> <span class="nx">p</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">screen</span> <span class="o">=</span> <span class="nx">p</span><span class="p">.</span><span class="nx">visual</span><span class="p">.</span><span class="nx">screen</span><span class="p">;</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">screen</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="s2">"first"</span><span class="o">:</span>
            <span class="nx">p</span><span class="p">.</span><span class="nx">play</span><span class="p">(</span><span class="sb">`This is the first screen`</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="s2">"second"</span><span class="o">:</span>
            <span class="nx">p</span><span class="p">.</span><span class="nx">play</span><span class="p">(</span><span class="sb">`This is the second screen`</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="nx">p</span><span class="p">.</span><span class="nx">play</span><span class="p">(</span><span class="sb">`This is an example Flutter app by Alan`</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Here we use the <code class="docutils literal notranslate"><span class="pre">p.visual.screen</span></code> variable to access data passed with the visual state. Depending on the variable value, Alan plays back different responses.</p>
<p>You can test it: run the app, say <code class="docutils literal notranslate"><span class="pre">Navigate</span> <span class="pre">forward</span></code> and ask: <code class="docutils literal notranslate"><span class="pre">What</span> <span class="pre">screen</span> <span class="pre">is</span> <span class="pre">this?</span></code> Alan will get back with <code class="docutils literal notranslate"><span class="pre">This</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">second</span> <span class="pre">screen</span></code>. Then say <code class="docutils literal notranslate"><span class="pre">Go</span> <span class="pre">back</span></code> and ask: <code class="docutils literal notranslate"><span class="pre">What</span> <span class="pre">screen</span> <span class="pre">is</span> <span class="pre">this?</span></code> Alan will answer: <code class="docutils literal notranslate"><span class="pre">This</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">first</span> <span class="pre">screen</span></code>.</p>
</div>
<div class="section" id="step-3-set-the-visual-state-on-button-tap">
<h2>Step 3: Set the visual state on button tap<a class="headerlink" href="#step-3-set-the-visual-state-on-button-tap" title="Permalink to this headline">¶</a></h2>
<p>At present, the visual state is sent only when we navigate through the app with voice. But our app is multimodal: users can interact with it either with voice or the app UI. We need to make sure the visual state is also sent when the user taps the buttons in the app.</p>
<p>Let’s update the code blocks for buttons added to the first and second screens.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">main.dart</span></code> file, in the <code class="docutils literal notranslate"><span class="pre">_MyHomePageState</span></code> class, locate the code for the <code class="docutils literal notranslate"><span class="pre">Navigate</span> <span class="pre">forward</span></code> button and update it to call the <code class="docutils literal notranslate"><span class="pre">setVisuals()</span></code> method:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="p">...</span>
<span class="kd">class</span> <span class="nc">_MyHomePageState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">MyHomePage</span><span class="o">&gt;</span> <span class="p">{</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>

    <span class="k">return</span> <span class="n">Scaffold</span><span class="p">(</span>
      <span class="p">...</span>
      <span class="nl">body:</span> <span class="n">Center</span><span class="p">(</span>
        <span class="nl">child:</span> <span class="n">Column</span><span class="p">(</span>
          <span class="p">...</span>
          <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;</span><span class="p">[</span>
            <span class="p">...</span>
            <span class="c1">//Button code</span>
            <span class="n">RaisedButton</span><span class="p">(</span>
              <span class="nl">child:</span> <span class="n">Text</span><span class="p">(</span><span class="s1">'Navigate forward'</span><span class="p">),</span>
              <span class="nl">onPressed:</span> <span class="p">()</span> <span class="p">{</span>
                <span class="n">Navigator</span><span class="p">.</span><span class="n">push</span><span class="p">(</span>
                  <span class="n">context</span><span class="p">,</span>
                  <span class="n">MaterialPageRoute</span><span class="p">(</span><span class="nl">builder:</span> <span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">SecondRoute</span><span class="p">()),</span>
                <span class="p">);</span>
                <span class="c1">//Set visual state to `second`</span>
                <span class="n">setVisuals</span><span class="p">(</span><span class="s2">"second"</span><span class="p">);</span>
              <span class="p">},</span><span class="c1">//Button code</span>
            <span class="p">),</span>
          <span class="p">],</span>
        <span class="p">),</span>
      <span class="p">),</span>
      <span class="p">...</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">...</span>
</pre></div>
</div>
<p>Now, when the button on the first screen is tapped, the app brings us to the second screen, and the visual state is set to <code class="docutils literal notranslate"><span class="pre">second</span></code>.</p>
<p>Let’s do the same for the second screen and its button. In the <code class="docutils literal notranslate"><span class="pre">main.dart</span></code> file, locate the <code class="docutils literal notranslate"><span class="pre">SecondRoute</span></code> class. First, add the <code class="docutils literal notranslate"><span class="pre">setVisuals()</span></code> method to it. Second, call the <code class="docutils literal notranslate"><span class="pre">setVisuals()</span></code> method in the code block for the <code class="docutils literal notranslate"><span class="pre">Go</span> <span class="pre">back</span></code> button and pass <code class="docutils literal notranslate"><span class="pre">first</span></code> to it.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="p">...</span>
<span class="kd">class</span> <span class="nc">SecondRoute</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="p">{</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">Scaffold</span><span class="p">(</span>
      <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="p">(</span>
        <span class="nl">title:</span> <span class="n">Text</span><span class="p">(</span><span class="s2">"Flutter Demo Second Page"</span><span class="p">),</span>
      <span class="p">),</span>
      <span class="nl">body:</span> <span class="n">Center</span><span class="p">(</span>
        <span class="nl">child:</span> <span class="n">RaisedButton</span><span class="p">(</span>
          <span class="nl">onPressed:</span> <span class="p">()</span> <span class="p">{</span>
            <span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
            <span class="c1">//Set visual state to `first`</span>
            <span class="n">setVisuals</span><span class="p">(</span><span class="s2">"first"</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nl">child:</span> <span class="n">Text</span><span class="p">(</span><span class="s1">'Go back'</span><span class="p">),</span>
        <span class="p">),</span>
      <span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>

  <span class="kt">void</span> <span class="n">setVisuals</span><span class="p">(</span><span class="kt">String</span> <span class="n">screen</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="n">visual</span> <span class="o">=</span>
        <span class="s2">"{</span><span class="se">\"</span><span class="s2">screen</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="si">$</span><span class="n">screen</span><span class="se">\"</span><span class="s2">}"</span><span class="p">;</span>
    <span class="n">AlanVoice</span><span class="p">.</span><span class="n">setVisualState</span><span class="p">(</span><span class="n">visual</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">...</span>
</pre></div>
</div>
<p>Run the app and check how it works now, both when you interact with it with voice or using the UI. The result will be the same: Alan will report correctly depending on the open screen.</p>
</div>
<div class="section" id="step-4-create-a-screen-specific-command">
<h2>Step 4: Create a screen-specific command<a class="headerlink" href="#step-4-create-a-screen-specific-command" title="Permalink to this headline">¶</a></h2>
<p>If an app has several screens, it may be necessary to create voice commands that will work for specific screens only. In Alan, you can create screen-specific commands with the help of
<a class="reference external" href="../../server-api/sending-data/visual-state.html#filtering-commands">filters</a> added to intents. The filter in an intent defines conditions in which the intent can be matched. In our case, we can use information about the open screen as the filter.</p>
<p>Let’s modify the intent for getting back to the first screen. This command must work only if the second screen is open; we cannot say <code class="docutils literal notranslate"><span class="pre">Go</span> <span class="pre">back</span></code> when at the first screen. In Alan Studio, update this intent to the following:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="nx">vScreen</span> <span class="o">=</span> <span class="nx">visual</span><span class="p">({</span><span class="s2">"screen"</span><span class="o">:</span> <span class="s2">"second"</span><span class="p">});</span>

<span class="nx">intent</span><span class="p">(</span><span class="nx">vScreen</span><span class="p">,</span> <span class="s2">"Go back"</span><span class="p">,</span> <span class="nx">p</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">p</span><span class="p">.</span><span class="nx">play</span><span class="p">({</span><span class="nx">command</span><span class="o">:</span> <span class="s1">'navigation'</span><span class="p">,</span> <span class="nx">route</span><span class="o">:</span> <span class="s1">'back'</span><span class="p">})</span>
<span class="p">});</span>
</pre></div>
</div>
<p>The filter comes as the first parameter in the intent. Now this intent will be matched only if the second screen is active and the visual state is <code class="docutils literal notranslate"><span class="pre">{"screen":</span> <span class="pre">"second"}</span></code>.</p>
<p>You can test it: run the app, go to the second screen and say: <code class="docutils literal notranslate"><span class="pre">Go</span> <span class="pre">back</span></code>. The first screen will be displayed. When the first screen is active, try saying this command again. Alan will not be able to match this intent.</p>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../ionic/ionic-list.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Ionic tutorials</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="navigating-flutter.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Navigating between screens in a Flutter app</div>
                
              </div>
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Passing the app state to the voice script</a><ul>
<li><a class="reference internal" href="#what-you-will-learn">What you will learn</a></li>
<li><a class="reference internal" href="#what-you-will-need">What you will need</a></li>
<li><a class="reference internal" href="#step-1-send-the-app-state-to-the-voice-script">Step 1: Send the app state to the voice script</a></li>
<li><a class="reference internal" href="#step-2-add-a-voice-command-with-different-answers-for-screens">Step 2: Add a voice command with different answers for screens</a></li>
<li><a class="reference internal" href="#step-3-set-the-visual-state-on-button-tap">Step 3: Set the visual state on button tap</a></li>
<li><a class="reference internal" href="#step-4-create-a-screen-specific-command">Step 4: Create a screen-specific command</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
</div>

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/custom.js"></script>
    <script src="../../_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>